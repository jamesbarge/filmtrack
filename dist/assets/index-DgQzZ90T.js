(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();const l="1dbfa774fad1a0b6c1d9bb59e21815d7";async function d(r){return(await fetch(`https://api.themoviedb.org/3/movie/${r}?api_key=${l}`)).json()}async function u(){return(await(await fetch("/watchlist_enriched.txt")).text()).split(`
`).map(o=>o.trim()).filter(o=>o).map(o=>parseInt(o,10))}function m(r){const n=document.createElement("div");n.className="movie";const o=document.createElement("h3"),a=`${r.title} news`,e=`https://www.google.com/search?q=${encodeURIComponent(a)}&tbm=nws`,t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noopener noreferrer",t.textContent=r.title,o.appendChild(t);const s=document.createElement("p");return s.textContent=new Date(r.release_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),n.appendChild(o),n.appendChild(s),n}function f(r){const n=new Map;return r.forEach(o=>{const e=new Date(o.release_date).toLocaleString("en-US",{month:"long",year:"numeric"});n.has(e)||n.set(e,[]),n.get(e).push(o)}),n}function h(r,n){const o=document.createElement("section");o.className="month";const a=document.createElement("h2");return a.textContent=r,o.appendChild(a),n.sort((e,t)=>new Date(e.release_date).getDate()-new Date(t.release_date).getDate()).slice(0,10).forEach(e=>{o.appendChild(m(e))}),o}async function p(){try{const n=(await u()).map(s=>d(s)),a=(await Promise.all(n)).filter(s=>s.release_date?new Date(s.release_date).getFullYear()===2025:!1),e=f(a),t=document.getElementById("calendar");t&&Array.from(e.keys()).sort((c,i)=>new Date(c)-new Date(i)).forEach(c=>{const i=e.get(c);t.appendChild(h(c,i))})}catch(r){console.error("Error:",r)}}p();
