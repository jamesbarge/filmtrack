(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const i="1dbfa774fad1a0b6c1d9bb59e21815d7";async function l(r){return(await fetch(`https://api.themoviedb.org/3/movie/${r}?api_key=${i}`)).json()}async function d(){return(await(await fetch("watchlist_enriched.txt")).text()).split(`
`).map(t=>t.trim()).filter(t=>t).map(t=>{const[a,e]=t.split(",");return{id:parseInt(a,10),url:e}})}function u(r){const n=document.createElement("div");n.className="movie";const t=document.createElement("h3");if(r.letterboxdUrl){const e=document.createElement("a");e.href=r.letterboxdUrl,e.target="_blank",e.rel="noopener noreferrer",e.textContent=r.title,t.appendChild(e)}else t.textContent=r.title;const a=document.createElement("p");return a.textContent=new Date(r.release_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),n.appendChild(t),n.appendChild(a),n}function m(r){const n=new Map;return r.forEach(t=>{const e=new Date(t.release_date).toLocaleString("en-US",{month:"long",year:"numeric"});n.has(e)||n.set(e,[]),n.get(e).push(t)}),n}function f(r,n){const t=document.createElement("section");t.className="month";const a=document.createElement("h2");return a.textContent=r,t.appendChild(a),n.sort((e,o)=>new Date(e.release_date).getDate()-new Date(o.release_date).getDate()).slice(0,10).forEach(e=>{t.appendChild(u(e))}),t}async function p(){try{const n=(await d()).map(c=>l(c.id).then(s=>({...s,letterboxdUrl:c.url}))),a=(await Promise.all(n)).filter(c=>new Date(c.release_date).getFullYear()===2025),e=m(a),o=document.getElementById("calendar");o&&e.forEach((c,s)=>{o.appendChild(f(s,c))})}catch(r){console.error("Error:",r)}}p();
